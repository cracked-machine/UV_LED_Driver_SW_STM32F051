/*
 * RotaryEncoder.c
 *
 *  Created on: Jun 17, 2020
 *      Author: chris
 */


#include "RotaryEncoder.h"
#include "UvboxManager.h"

uint8_t RE_getPrevEncoderDir();


uint8_t previous_encoder_dir;

/*
 *
 *	@brief	Rotary encoder timer setup
 *
 *	@param 	None
 *	@retval None
 *
 */
void RE_Setup()
{
	HAL_TIM_Base_Start(&ROTARY_ENCODER);
	previous_encoder_dir = (ROTARY_ENCODER.Instance->CR1 & TIM_CR1_DIR);
}

/*
 *
 *	@brief
 *
 *	@param
 *	@retval None
 *
 */
UVBOX_EncoderDirTypeDef RE_getPrevEncoderDir()
{
	return previous_encoder_dir;
}

/*
 *
 *	@brief
 *
 *	@param
 *	@retval None
 *
 */
void RE_setPrevEncoderDir(UVBOX_EncoderDirTypeDef direction)
{
	previous_encoder_dir = direction;
}
